<!DOCTYPE html>
<html lang="en" data-root="https://fsprojects.github.io/fantomas/">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="author" content="Florian Verdonck, Jindřich Ivánek, David Schaefer">
  <title>Generating source code
</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,400;0,600;1,400&family=Reem+Kufi:wght@400;500;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.3/font/bootstrap-icons.css">
  <link rel="shortcut icon" type="image/x-icon" href="https://fsprojects.github.io/fantomas/images/favicon.ico">
  <link type="text/css" rel="stylesheet" href="https://fsprojects.github.io/fantomas/content/fsdocs-custom.css" />
  <script type="text/javascript" src="https://fsprojects.github.io/fantomas/content/fsdocs-tips.js"></script>
  <!-- BEGIN SEARCH BOX: this adds support for the search box -->
  <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
  <link rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/JavaScript-autoComplete/1.0.4/auto-complete.css" />
  <!-- END SEARCH BOX: this adds support for the search box -->
  
</head>

<body>
     <aside class="bg-primary h-100 fs-5">
      <div id="sidebar-header" class="d-flex justify-content-end mt-1">
      <button class="btn d-md-none" id="close-mobile-menu" aria-controls="sidebar-wrapper" aria-expanded="false" aria-label="Toggle navigation">
        <i class="sidebar-toggle fs-3 bi bi-x-lg"></i>
                  </button>
              </div>
      <div id="sidebar-logo" class="d-flex justify-content-center p-5">
        <a href="https://fsprojects.github.io/fantomas/docs/index.html" ><img id="fsdocs-logo" src="https://fsprojects.github.io/fantomas//images/logo-fantomas-white.svg" /></a>
      </div>
      <div id="sidebar-content" class="accordion accordion-flush ps-0 text-white fs-6">
        <div id="end-users-wrapper" class="accordion-item">
    <li class="docs-menu">
        <button id="end-users-button"
            class="accordion-button collapsed btn text-white d-flex justify-content-between align-items-center"
            data-bs-toggle="collapse" data-bs-target="#end-users" aria-expanded="false"
            aria-control="end-users" type="button">
            End-users
        </button>
        <div id="end-users" class="accordion-collapse collapse ps-4 pb-2 " data-bs-parent="#sidebar-content">
            <ul class="list-unstyled fw-normal mb-0">
                <li class="nav-item"><a href="https://fsprojects.github.io/fantomas/docs/end-users/GettingStarted.html" class="nav-link pb-2 d-block" > Getting Started
</a></li>

<li class="nav-item"><a href="https://fsprojects.github.io/fantomas/docs/end-users/StyleGuide.html" class="nav-link pb-2 d-block" > Style guide
</a></li>

<li class="nav-item"><a href="https://fsprojects.github.io/fantomas/docs/end-users/Configuration.html" class="nav-link pb-2 d-block" > Configuration
</a></li>

<li class="nav-item"><a href="https://fsprojects.github.io/fantomas/docs/end-users/IgnoreFiles.html" class="nav-link pb-2 d-block" > Ignore Files
</a></li>

<li class="nav-item"><a href="https://fsprojects.github.io/fantomas/docs/end-users/FormattingCheck.html" class="nav-link pb-2 d-block" > Formatting Check
</a></li>

<li class="nav-item"><a href="https://fsprojects.github.io/fantomas/docs/end-users/GitHooks.html" class="nav-link pb-2 d-block" > Git hooks
</a></li>

<li class="nav-item"><a href="https://fsprojects.github.io/fantomas/docs/end-users/VisualStudio.html" class="nav-link pb-2 d-block" > Visual Studio
</a></li>

<li class="nav-item"><a href="https://fsprojects.github.io/fantomas/docs/end-users/Rider.html" class="nav-link pb-2 d-block" > JetBrains Rider
</a></li>

<li class="nav-item"><a href="https://fsprojects.github.io/fantomas/docs/end-users/VSCode.html" class="nav-link pb-2 d-block" > Visual Studio Code
</a></li>

<li class="nav-item"><a href="https://fsprojects.github.io/fantomas/docs/end-users/GeneratingCode.html" class="nav-link pb-2 d-block" > Generating source code
</a></li>

<li class="nav-item"><a href="https://fsprojects.github.io/fantomas/docs/end-users/FAQ.html" class="nav-link pb-2 d-block" > FAQ
</a></li>

            </ul>
        </div>
    </li>
</div>
<div id="contributors-wrapper" class="accordion-item">
    <li class="docs-menu">
        <button id="contributors-button"
            class="accordion-button collapsed btn text-white d-flex justify-content-between align-items-center"
            data-bs-toggle="collapse" data-bs-target="#contributors" aria-expanded="false"
            aria-control="contributors" type="button">
            Contributors
        </button>
        <div id="contributors" class="accordion-collapse collapse ps-4 pb-2 " data-bs-parent="#sidebar-content">
            <ul class="list-unstyled fw-normal mb-0">
                <li class="nav-item"><a href="https://fsprojects.github.io/fantomas/docs/contributors/Index.html" class="nav-link pb-2 d-block" > Contributors
</a></li>

<li class="nav-item"><a href="https://fsprojects.github.io/fantomas/docs/contributors/FSharp.html" class="nav-link pb-2 d-block" > F#
</a></li>

<li class="nav-item"><a href="https://fsprojects.github.io/fantomas/docs/contributors/Getting Started.html" class="nav-link pb-2 d-block" > Getting started
</a></li>

<li class="nav-item"><a href="https://fsprojects.github.io/fantomas/docs/contributors/Solution Structure.html" class="nav-link pb-2 d-block" > Solution structure
</a></li>

<li class="nav-item"><a href="https://fsprojects.github.io/fantomas/docs/contributors/Transforming.html" class="nav-link pb-2 d-block" > Fantomas.Core overview (1)
</a></li>

<li class="nav-item"><a href="https://fsprojects.github.io/fantomas/docs/contributors/Traverse.html" class="nav-link pb-2 d-block" > Fantomas.Core overview (2)
</a></li>

<li class="nav-item"><a href="https://fsprojects.github.io/fantomas/docs/contributors/Formatted Code.html" class="nav-link pb-2 d-block" > Fantomas.Core overview (3)
</a></li>

<li class="nav-item"><a href="https://fsprojects.github.io/fantomas/docs/contributors/Conditional Compilation Directives.html" class="nav-link pb-2 d-block" > Formatting Conditional Compilation Directives
</a></li>

<li class="nav-item"><a href="https://fsprojects.github.io/fantomas/docs/contributors/How Can I Contribute.html" class="nav-link pb-2 d-block" > How can I contribute?
</a></li>

<li class="nav-item"><a href="https://fsprojects.github.io/fantomas/docs/contributors/The Missing Comment.html" class="nav-link pb-2 d-block" > The Missing Comment
</a></li>

<li class="nav-item"><a href="https://fsprojects.github.io/fantomas/docs/contributors/Pull request ground rules.html" class="nav-link pb-2 d-block" > Pull request ground rules
</a></li>

<li class="nav-item"><a href="https://fsprojects.github.io/fantomas/docs/contributors/Releases.html" class="nav-link pb-2 d-block" > Releases
</a></li>

<li class="nav-item"><a href="https://fsprojects.github.io/fantomas/docs/contributors/Glossary.html" class="nav-link pb-2 d-block" > Glossary
</a></li>

            </ul>
        </div>
    </li>
</div>
        <div id="api_reference-wrapper" class="accordion-item">
    <li class="docs-menu">
        <button id="api_reference-button"
            class="accordion-button collapsed btn text-white d-flex justify-content-between align-items-center"
            data-bs-toggle="collapse" data-bs-target="#api_reference" aria-expanded="false"
            aria-control="api_reference" type="button">
            API Reference
        </button>
        <div id="api_reference" class="accordion-collapse collapse ps-4 pb-2 " data-bs-parent="#sidebar-content">
            <ul class="list-unstyled fw-normal mb-0">
                <li class="nav-item"><a href="https://fsprojects.github.io/fantomas/reference/index.html" class="nav-link pb-2 d-block" > All Namespaces</a></li>

            </ul>
        </div>
    </li>
</div>
      </div>
    </aside>
    <main class="doc-content">
     <nav class="navbar navbar-expand-sm border py-1">
        <div class="container-fluid flex-nowrap">
          <button class="btn" id="toggle-mobile-menu" aria-expanded="false" aria-label="Toggle navigation">
            <i class="sidebar-toggle fs-3 bi bi-list"></i>
          </button>
          <div id="mobile-navbar" class="container-fluid d-flex justify-content-between d-sm-none">
            <i class="invisible bi bi-github fs-3 align-self-end"></i>
         <a href="./index.html" ><img id="fsdocs-logo-mobile" width="32" height="32" src="https://fsprojects.github.io/fantomas//images/logo.png" /></a>
            <a class="nav-link m-0 p-0" target="_blank" href="https://github.com/fsprojects/fantomas/"> <i class="bi bi-github fs-3 align-self-end"></i>
</a>
          </div>
          <div class="collapse navbar-collapse" id="navbarText">
            <div class="navbar-nav me-auto mb-2 mb-lg-0 fs-5">
                <a class="nav-link active" aria-current="page" href="https://fsprojects.github.io/fantomas/docs/index.html">Docs</a>
                <a class="nav-link" target="_blank" href="https://fsprojects.github.io/fantomas-tools/">Tools</a>
            </div>
            <form class="d-flex">
              <div class="input-group me-4">
              <label for="search-by">
                <i class="fas fa-search"></i>
              </label>
                <div class="btn border-end-0 border">
                  <i class="bi bi-search"></i>
                </div>
                <input aria-label="Search" class="form-control  border-start-0 border" data-search-input=""
                  id="search-by" type="search" placeholder="Search..." />
                <span class="input-group-append">
                </span>
                <span data-search-clear="">
                  <i class="fas fa-times"></i>
                </span>
              </div>
            </form>
            <a class="nav-link m-0 p-0" target="_blank" href="https://github.com/fsprojects/fantomas/">GitHub<i
                class="bi bi-box-arrow-up-right mx-2"></i></a>
          </div>
        </div>
      </nav>
      <div id="fsdocs-content" class="bg-white m-2 m-sm-5 p-3 p-sm-4">
        
<h1><a name="Generating-source-code" class="anchor" href="#Generating-source-code">Generating source code</a></h1>
<p>The <a href="https://www.nuget.org/packages/Fantomas.Core">Fantomas.Core</a> NuGet package can also be used to format code programmatically.<br />
The public API is available from the static <code>CodeFormatter</code> class. It exposes a couple of APIs to format code, one being to format code from a raw syntax tree.<br />
This API assumes the user already parsed a syntax tree or constructed an artificial one.</p>
<h2><a name="Key-motivation" class="anchor" href="#Key-motivation">Key motivation</a></h2>
<p>It can be very tempting to generate some F# code by doing some string concatenations.<br />
In simple scenarios this can work out, but in the long run it doesn't scale well:</p>
<ul>
<li>The more code constructs you want to support, the more conditional logic you will need to ensure all edge cases.</li>
<li>A string is just a string, you cannot guarantee the output will be valid code.</li>
<li>It is easier to map your domain model to untyped syntax tree nodes and let Fantomas take care of the actual generation of code.</li>
</ul>
<p><strong>For mercy's sake don't use string concatenation when generating F# code, use Fantomas instead. It is battle tested and proven technology!</strong></p>
<h2><a name="Generating-source-code-from-scratch" class="anchor" href="#Generating-source-code-from-scratch">Generating source code from scratch</a></h2>
<h3><a name="Example-syntax-tree" class="anchor" href="#Example-syntax-tree">Example syntax tree</a></h3>
<p>To illustrate the API, lets generate a simple value binding: <code>let a = 0</code>.</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="pp">#r</span> <span class="s">&quot;nuget: Fantomas.Core, 5.*&quot;</span> <span class="c">// Note that this will also load Fantomas.FCS, which contains the syntax tree types.</span>

<span class="k">open</span> <span onmouseout="hideTip(event, 'fs1', 1)" onmouseover="showTip(event, 'fs1', 1)" class="id">FSharp</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs2', 2)" onmouseover="showTip(event, 'fs2', 2)" class="id">Compiler</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs3', 3)" onmouseover="showTip(event, 'fs3', 3)" class="id">Text</span>
<span class="k">open</span> <span onmouseout="hideTip(event, 'fs1', 4)" onmouseover="showTip(event, 'fs1', 4)" class="id">FSharp</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs2', 5)" onmouseover="showTip(event, 'fs2', 5)" class="id">Compiler</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs4', 6)" onmouseover="showTip(event, 'fs4', 6)" class="id">Xml</span>
<span class="k">open</span> <span onmouseout="hideTip(event, 'fs1', 7)" onmouseover="showTip(event, 'fs1', 7)" class="id">FSharp</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs2', 8)" onmouseover="showTip(event, 'fs2', 8)" class="id">Compiler</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs5', 9)" onmouseover="showTip(event, 'fs5', 9)" class="id">Syntax</span>
<span class="k">open</span> <span onmouseout="hideTip(event, 'fs1', 10)" onmouseover="showTip(event, 'fs1', 10)" class="id">FSharp</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs2', 11)" onmouseover="showTip(event, 'fs2', 11)" class="id">Compiler</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs6', 12)" onmouseover="showTip(event, 'fs6', 12)" class="id">SyntaxTrivia</span>

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs7', 13)" onmouseover="showTip(event, 'fs7', 13)" class="id">implementationSyntaxTree</span> <span class="o">=</span>
    <span onmouseout="hideTip(event, 'fs8', 14)" onmouseover="showTip(event, 'fs8', 14)" class="rt">ParsedInput</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs9', 15)" onmouseover="showTip(event, 'fs9', 15)" class="id">ImplFile</span><span class="pn">(</span>
        <span onmouseout="hideTip(event, 'fs10', 16)" onmouseover="showTip(event, 'fs10', 16)" class="uc">ParsedImplFileInput</span><span class="pn">(</span>
            <span class="s">&quot;filename.fsx&quot;</span><span class="pn">,</span>
            <span class="k">true</span><span class="pn">,</span>
            <span onmouseout="hideTip(event, 'fs11', 17)" onmouseover="showTip(event, 'fs11', 17)" class="uc">QualifiedNameOfFile</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs12', 18)" onmouseover="showTip(event, 'fs12', 18)" class="fn">Ident</span><span class="pn">(</span><span class="s">&quot;&quot;</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs13', 19)" onmouseover="showTip(event, 'fs13', 19)" class="m">Range</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs14', 20)" onmouseover="showTip(event, 'fs14', 20)" class="id">Zero</span><span class="pn">)</span><span class="pn">)</span><span class="pn">,</span>
            <span class="pn">[</span><span class="pn">]</span><span class="pn">,</span>
            <span class="pn">[</span><span class="pn">]</span><span class="pn">,</span>
            <span class="pn">[</span> <span onmouseout="hideTip(event, 'fs15', 21)" onmouseover="showTip(event, 'fs15', 21)" class="uc">SynModuleOrNamespace</span><span class="pn">(</span>
                  <span class="pn">[</span><span class="pn">]</span><span class="pn">,</span>
                  <span class="k">false</span><span class="pn">,</span>
                  <span onmouseout="hideTip(event, 'fs16', 22)" onmouseover="showTip(event, 'fs16', 22)" class="vt">SynModuleOrNamespaceKind</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs17', 23)" onmouseover="showTip(event, 'fs17', 23)" class="id">AnonModule</span><span class="pn">,</span>
                  <span class="pn">[</span> <span onmouseout="hideTip(event, 'fs18', 24)" onmouseover="showTip(event, 'fs18', 24)" class="rt">SynModuleDecl</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs19', 25)" onmouseover="showTip(event, 'fs19', 25)" class="id">Let</span><span class="pn">(</span>
                        <span class="k">false</span><span class="pn">,</span>
                        <span class="pn">[</span> <span onmouseout="hideTip(event, 'fs20', 26)" onmouseover="showTip(event, 'fs20', 26)" class="uc">SynBinding</span><span class="pn">(</span>
                              <span onmouseout="hideTip(event, 'fs21', 27)" onmouseover="showTip(event, 'fs21', 27)" class="uc">None</span><span class="pn">,</span>
                              <span onmouseout="hideTip(event, 'fs22', 28)" onmouseover="showTip(event, 'fs22', 28)" class="rt">SynBindingKind</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs23', 29)" onmouseover="showTip(event, 'fs23', 29)" class="id">Normal</span><span class="pn">,</span>
                              <span class="k">false</span><span class="pn">,</span>
                              <span class="k">false</span><span class="pn">,</span>
                              <span class="pn">[</span><span class="pn">]</span><span class="pn">,</span>
                              <span onmouseout="hideTip(event, 'fs24', 30)" onmouseover="showTip(event, 'fs24', 30)" class="rt">PreXmlDoc</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs25', 31)" onmouseover="showTip(event, 'fs25', 31)" class="id">Empty</span><span class="pn">,</span>
                              <span onmouseout="hideTip(event, 'fs26', 32)" onmouseover="showTip(event, 'fs26', 32)" class="uc">SynValData</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs21', 33)" onmouseover="showTip(event, 'fs21', 33)" class="uc">None</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs27', 34)" onmouseover="showTip(event, 'fs27', 34)" class="uc">SynValInfo</span><span class="pn">(</span><span class="pn">[</span><span class="pn">]</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs28', 35)" onmouseover="showTip(event, 'fs28', 35)" class="uc">SynArgInfo</span><span class="pn">(</span><span class="pn">[</span><span class="pn">]</span><span class="pn">,</span> <span class="k">false</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs21', 36)" onmouseover="showTip(event, 'fs21', 36)" class="uc">None</span><span class="pn">)</span><span class="pn">)</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs21', 37)" onmouseover="showTip(event, 'fs21', 37)" class="uc">None</span><span class="pn">)</span><span class="pn">,</span>
                              <span onmouseout="hideTip(event, 'fs29', 38)" onmouseover="showTip(event, 'fs29', 38)" class="rt">SynPat</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs30', 39)" onmouseover="showTip(event, 'fs30', 39)" class="id">Named</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs31', 40)" onmouseover="showTip(event, 'fs31', 40)" class="uc">SynIdent</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs12', 41)" onmouseover="showTip(event, 'fs12', 41)" class="fn">Ident</span><span class="pn">(</span><span class="s">&quot;a&quot;</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs13', 42)" onmouseover="showTip(event, 'fs13', 42)" class="m">Range</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs14', 43)" onmouseover="showTip(event, 'fs14', 43)" class="id">Zero</span><span class="pn">)</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs21', 44)" onmouseover="showTip(event, 'fs21', 44)" class="uc">None</span><span class="pn">)</span><span class="pn">,</span> <span class="k">false</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs21', 45)" onmouseover="showTip(event, 'fs21', 45)" class="uc">None</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs13', 46)" onmouseover="showTip(event, 'fs13', 46)" class="m">Range</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs14', 47)" onmouseover="showTip(event, 'fs14', 47)" class="id">Zero</span><span class="pn">)</span><span class="pn">,</span>
                              <span onmouseout="hideTip(event, 'fs21', 48)" onmouseover="showTip(event, 'fs21', 48)" class="uc">None</span><span class="pn">,</span>
                              <span onmouseout="hideTip(event, 'fs32', 49)" onmouseover="showTip(event, 'fs32', 49)" class="rt">SynExpr</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs33', 50)" onmouseover="showTip(event, 'fs33', 50)" class="id">Const</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs34', 51)" onmouseover="showTip(event, 'fs34', 51)" class="rt">SynConst</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs35', 52)" onmouseover="showTip(event, 'fs35', 52)" class="id">Int32</span><span class="pn">(</span><span class="n">0</span><span class="pn">)</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs13', 53)" onmouseover="showTip(event, 'fs13', 53)" class="m">Range</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs14', 54)" onmouseover="showTip(event, 'fs14', 54)" class="id">Zero</span><span class="pn">)</span><span class="pn">,</span>
                              <span onmouseout="hideTip(event, 'fs13', 55)" onmouseover="showTip(event, 'fs13', 55)" class="m">Range</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs14', 56)" onmouseover="showTip(event, 'fs14', 56)" class="id">Zero</span><span class="pn">,</span>
                              <span onmouseout="hideTip(event, 'fs36', 57)" onmouseover="showTip(event, 'fs36', 57)" class="rt">DebugPointAtBinding</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs37', 58)" onmouseover="showTip(event, 'fs37', 58)" class="id">Yes</span> <span onmouseout="hideTip(event, 'fs13', 59)" onmouseover="showTip(event, 'fs13', 59)" class="m">Range</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs14', 60)" onmouseover="showTip(event, 'fs14', 60)" class="id">Zero</span><span class="pn">,</span>
                              <span class="pn">{</span> <span class="prop">EqualsRange</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs38', 61)" onmouseover="showTip(event, 'fs38', 61)" class="uc">Some</span> <span onmouseout="hideTip(event, 'fs13', 62)" onmouseover="showTip(event, 'fs13', 62)" class="m">Range</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs14', 63)" onmouseover="showTip(event, 'fs14', 63)" class="id">Zero</span>
                                <span class="prop">LeadingKeyword</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs39', 64)" onmouseover="showTip(event, 'fs39', 64)" class="rt">SynLeadingKeyword</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs40', 65)" onmouseover="showTip(event, 'fs40', 65)" class="id">Let</span> <span onmouseout="hideTip(event, 'fs13', 66)" onmouseover="showTip(event, 'fs13', 66)" class="m">Range</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs14', 67)" onmouseover="showTip(event, 'fs14', 67)" class="id">Zero</span> <span class="pn">}</span>
                          <span class="pn">)</span> <span class="pn">]</span><span class="pn">,</span>
                        <span onmouseout="hideTip(event, 'fs13', 68)" onmouseover="showTip(event, 'fs13', 68)" class="m">Range</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs14', 69)" onmouseover="showTip(event, 'fs14', 69)" class="id">Zero</span>
                    <span class="pn">)</span> <span class="pn">]</span><span class="pn">,</span>
                  <span onmouseout="hideTip(event, 'fs24', 70)" onmouseover="showTip(event, 'fs24', 70)" class="rt">PreXmlDoc</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs25', 71)" onmouseover="showTip(event, 'fs25', 71)" class="id">Empty</span><span class="pn">,</span>
                  <span class="pn">[</span><span class="pn">]</span><span class="pn">,</span>
                  <span onmouseout="hideTip(event, 'fs21', 72)" onmouseover="showTip(event, 'fs21', 72)" class="uc">None</span><span class="pn">,</span>
                  <span onmouseout="hideTip(event, 'fs13', 73)" onmouseover="showTip(event, 'fs13', 73)" class="m">Range</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs14', 74)" onmouseover="showTip(event, 'fs14', 74)" class="id">Zero</span><span class="pn">,</span>
                  <span class="pn">{</span> <span class="prop">LeadingKeyword</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs41', 75)" onmouseover="showTip(event, 'fs41', 75)" class="rt">SynModuleOrNamespaceLeadingKeyword</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs42', 76)" onmouseover="showTip(event, 'fs42', 76)" class="id">None</span> <span class="pn">}</span>
              <span class="pn">)</span> <span class="pn">]</span><span class="pn">,</span>
            <span class="pn">(</span><span class="k">false</span><span class="pn">,</span> <span class="k">false</span><span class="pn">)</span><span class="pn">,</span>
            <span class="pn">{</span> <span class="prop">ConditionalDirectives</span> <span class="o">=</span> <span class="pn">[</span><span class="pn">]</span>
              <span class="prop">CodeComments</span> <span class="o">=</span> <span class="pn">[</span><span class="pn">]</span> <span class="pn">}</span>
        <span class="pn">)</span>
    <span class="pn">)</span>

<span class="k">open</span> <span onmouseout="hideTip(event, 'fs43', 77)" onmouseover="showTip(event, 'fs43', 77)" class="id">Fantomas</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs44', 78)" onmouseover="showTip(event, 'fs44', 78)" class="id">Core</span>

<span onmouseout="hideTip(event, 'fs45', 79)" onmouseover="showTip(event, 'fs45', 79)" class="rt">CodeFormatter</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs46', 80)" onmouseover="showTip(event, 'fs46', 80)" class="id">FormatASTAsync</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs7', 81)" onmouseover="showTip(event, 'fs7', 81)" class="id">implementationSyntaxTree</span><span class="pn">)</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs47', 82)" onmouseover="showTip(event, 'fs47', 82)" class="m">Async</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs48', 83)" onmouseover="showTip(event, 'fs48', 83)" class="id">RunSynchronously</span>
</code></pre>
<table class="pre"><tr><td><pre><code>"let a = 0
"</code></pre></td></tr></table>
<p>Constructing the entire syntax tree can be a bit overwhelming at first. There is a lot of information to provide and a lot to unpack if you have never seen any of this before.</p>
<p>Let's deconstruct a couple of things:</p>
<ul>
<li><p>Every file has one or more <a href="../../reference/fsharp-compiler-syntax-synmoduleornamespace.html">SynModuleOrNamespace</a>. In this case the module was anonymous and thus invisible.</p></li>
<li><p>Every <code>SynModuleOrNamespace</code> has top level <a href="../../https://fsprojects.github.io/fantomas/reference/fsharp-compiler-syntax-synmoduledecl.html">SynModuleDecl</a>.</p></li>
<li>
<p><a href="../../https://fsprojects.github.io/fantomas/reference/fsharp-compiler-syntax-synmoduledecl.html#Let">SynModuleDecl.Let</a> takes one or more <a href="../../reference/fsharp-compiler-syntax-synbinding.html">SynBinding</a>.</p>
<p>You would have multiple bindings in case of a recursive function.</p>
</li>
<li><p>The <code>headPat</code> of binding contains the name and the parameters.</p></li>
<li><p>The <code>expr</code> (<a href="../../reference/fsharp-compiler-syntax-synexpr.html">SynExpr</a>) represents the F# syntax expression.</p></li>
<li><p>Because there is no actual source code, all ranges will be <code>Range.Zero</code>.</p></li>
</ul>
<p>The more you interact with AST, the easier you pick up which node represents what.</p>
<h3><a name="Fantomas-FCS" class="anchor" href="#Fantomas-FCS">Fantomas.FCS</a></h3>
<p>When looking at the example, we notice that we've opened a couple of <code>FSharp.Compiler.*</code> namespaces.<br />
Don't be fooled by this, <code>Fantomas.Core</code> and <code>Fantomas.FCS</code> <strong>do not reference <a href="https://www.nuget.org/packages/FSharp.Compiler.Service">FSharp.Compiler.Service</a></strong>!<br />
Instead, <code>Fantomas.FCS</code> is a custom version of the F# compiler (built from source) that only exposes the F# parser and the syntax tree.</p>
<p><code>Fantomas.FCS</code> exposes the exact same namespaces because it builds from the exact same F# compiler source code.<br />
The key difference is that <code>Fantomas.FCS</code> will most likely contain a more recent version of the F# parser.<br />
You can read the <a href="https://github.com/fsprojects/fantomas/blob/main/CHANGELOG.md">CHANGELOG</a> to see what git commit was used to build <code>Fantomas.FCS</code>.</p>
<p>You can use <code>Fantomas.FCS</code> in your own projects, but be aware that it is <strong>not binary compatible</strong> with <code>FSharp.Compiler.Service</code>.<br />
Example usage:</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="pp">#r</span> <span class="s">&quot;nuget: Fantomas.FCS&quot;</span>

<span class="k">open</span> <span onmouseout="hideTip(event, 'fs1', 84)" onmouseover="showTip(event, 'fs1', 84)" class="id">FSharp</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs2', 85)" onmouseover="showTip(event, 'fs2', 85)" class="id">Compiler</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs3', 86)" onmouseover="showTip(event, 'fs3', 86)" class="id">Text</span>
<span class="k">open</span> <span onmouseout="hideTip(event, 'fs43', 87)" onmouseover="showTip(event, 'fs43', 87)" class="id">Fantomas</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs49', 88)" onmouseover="showTip(event, 'fs49', 88)" class="id">FCS</span>

<span onmouseout="hideTip(event, 'fs50', 89)" onmouseover="showTip(event, 'fs50', 89)" class="m">Parse</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs51', 90)" onmouseover="showTip(event, 'fs51', 90)" class="id">parseFile</span> <span class="k">false</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs52', 91)" onmouseover="showTip(event, 'fs52', 91)" class="m">SourceText</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs53', 92)" onmouseover="showTip(event, 'fs53', 92)" class="id">ofString</span> <span class="s">&quot;let a = 1&quot;</span><span class="pn">)</span> <span class="pn">[</span><span class="pn">]</span>
</code></pre>
<table class="pre"><tr><td><pre><code>(ImplFile
   (ParsedImplFileInput
      ("tmp.fsx", true, QualifiedNameOfFile Tmp$fsx, [], [],
       [SynModuleOrNamespace
          ([Tmp], false, AnonModule,
           [Let
              (false,
               [SynBinding
                  (None, Normal, false, false, [],
                   PreXmlDoc ((1,0), FSharp.Compiler.Xml.XmlDocCollector),
                   SynValData
                     (None, SynValInfo ([], SynArgInfo ([], false, None)), None),
                   Named (SynIdent (a, None), false, None, tmp.fsx (1,4--1,5)),
                   None, Const (Int32 1, tmp.fsx (1,8--1,9)), tmp.fsx (1,4--1,5),
                   Yes tmp.fsx (1,0--1,9),
                   { LeadingKeyword = Let tmp.fsx (1,0--1,3)
                     EqualsRange = Some tmp.fsx (1,6--1,7) })],
               tmp.fsx (1,0--1,9))], PreXmlDocEmpty, [], None,
           tmp.fsx (1,0--1,9), { LeadingKeyword = None })], (false, false),
       { ConditionalDirectives = []
         CodeComments = [] })), [])</code></pre></td></tr></table>
<h2><a name="Tips-and-tricks" class="anchor" href="#Tips-and-tricks">Tips and tricks</a></h2>
<h3><a name="Online-tool" class="anchor" href="#Online-tool">Online tool</a></h3>
<p>The syntax tree can have an overwhelming type hierarchy.<br />
We wholeheartedly recommend to use our <strong><a href="https://fsprojects.github.io/fantomas-tools/#/ast">online tool</a></strong> when working with AST.</p>
<p><img src="../../images/ast-viewer.png" alt="F# AST Viewer" /></p>
<p>This shows you what AST nodes the parser created for a given input text.<br />
From there on you can use our search bar to find the corresponding documentation:</p>
<p><img src="../../images/searchbar-ast.png" alt="Search bar" /></p>
<h3><a name="Match-the-AST-the-parser-would-produce" class="anchor" href="#Match-the-AST-the-parser-would-produce">Match the AST the parser would produce</a></h3>
<p>Fantomas will very selectively use information from the AST.<br />
Please make sure you construct the same AST as the parser would.</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="c">// You typically make some helper functions along the way</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs54', 93)" onmouseover="showTip(event, 'fs54', 93)" class="fn">mkCodeFromExpression</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs55', 94)" onmouseover="showTip(event, 'fs55', 94)" class="fn">e</span><span class="pn">:</span> <span onmouseout="hideTip(event, 'fs32', 95)" onmouseover="showTip(event, 'fs32', 95)" class="rt">SynExpr</span><span class="pn">)</span> <span class="pn">:</span> <span onmouseout="hideTip(event, 'fs56', 96)" onmouseover="showTip(event, 'fs56', 96)" class="rt">string</span> <span class="o">=</span>
    <span onmouseout="hideTip(event, 'fs8', 97)" onmouseover="showTip(event, 'fs8', 97)" class="rt">ParsedInput</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs9', 98)" onmouseover="showTip(event, 'fs9', 98)" class="id">ImplFile</span><span class="pn">(</span>
        <span onmouseout="hideTip(event, 'fs10', 99)" onmouseover="showTip(event, 'fs10', 99)" class="uc">ParsedImplFileInput</span><span class="pn">(</span>
            <span class="s">&quot;filename.fsx&quot;</span><span class="pn">,</span>
            <span class="k">true</span><span class="pn">,</span>
            <span onmouseout="hideTip(event, 'fs11', 100)" onmouseover="showTip(event, 'fs11', 100)" class="uc">QualifiedNameOfFile</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs12', 101)" onmouseover="showTip(event, 'fs12', 101)" class="fn">Ident</span><span class="pn">(</span><span class="s">&quot;&quot;</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs13', 102)" onmouseover="showTip(event, 'fs13', 102)" class="m">Range</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs14', 103)" onmouseover="showTip(event, 'fs14', 103)" class="id">Zero</span><span class="pn">)</span><span class="pn">)</span><span class="pn">,</span>
            <span class="pn">[</span><span class="pn">]</span><span class="pn">,</span>
            <span class="pn">[</span><span class="pn">]</span><span class="pn">,</span>
            <span class="pn">[</span> <span onmouseout="hideTip(event, 'fs15', 104)" onmouseover="showTip(event, 'fs15', 104)" class="uc">SynModuleOrNamespace</span><span class="pn">(</span>
                  <span class="pn">[</span><span class="pn">]</span><span class="pn">,</span>
                  <span class="k">false</span><span class="pn">,</span>
                  <span onmouseout="hideTip(event, 'fs16', 105)" onmouseover="showTip(event, 'fs16', 105)" class="vt">SynModuleOrNamespaceKind</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs17', 106)" onmouseover="showTip(event, 'fs17', 106)" class="id">AnonModule</span><span class="pn">,</span>
                  <span class="pn">[</span> <span onmouseout="hideTip(event, 'fs18', 107)" onmouseover="showTip(event, 'fs18', 107)" class="rt">SynModuleDecl</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs57', 108)" onmouseover="showTip(event, 'fs57', 108)" class="id">Expr</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs55', 109)" onmouseover="showTip(event, 'fs55', 109)" class="fn">e</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs13', 110)" onmouseover="showTip(event, 'fs13', 110)" class="m">Range</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs14', 111)" onmouseover="showTip(event, 'fs14', 111)" class="id">Zero</span><span class="pn">)</span> <span class="pn">]</span><span class="pn">,</span>
                  <span onmouseout="hideTip(event, 'fs24', 112)" onmouseover="showTip(event, 'fs24', 112)" class="rt">PreXmlDoc</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs25', 113)" onmouseover="showTip(event, 'fs25', 113)" class="id">Empty</span><span class="pn">,</span>
                  <span class="pn">[</span><span class="pn">]</span><span class="pn">,</span>
                  <span onmouseout="hideTip(event, 'fs21', 114)" onmouseover="showTip(event, 'fs21', 114)" class="uc">None</span><span class="pn">,</span>
                  <span onmouseout="hideTip(event, 'fs13', 115)" onmouseover="showTip(event, 'fs13', 115)" class="m">Range</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs14', 116)" onmouseover="showTip(event, 'fs14', 116)" class="id">Zero</span><span class="pn">,</span>
                  <span class="pn">{</span> <span class="prop">LeadingKeyword</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs41', 117)" onmouseover="showTip(event, 'fs41', 117)" class="rt">SynModuleOrNamespaceLeadingKeyword</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs42', 118)" onmouseover="showTip(event, 'fs42', 118)" class="id">None</span> <span class="pn">}</span>
              <span class="pn">)</span> <span class="pn">]</span><span class="pn">,</span>
            <span class="pn">(</span><span class="k">false</span><span class="pn">,</span> <span class="k">false</span><span class="pn">)</span><span class="pn">,</span>
            <span class="pn">{</span> <span class="prop">ConditionalDirectives</span> <span class="o">=</span> <span class="pn">[</span><span class="pn">]</span>
              <span class="prop">CodeComments</span> <span class="o">=</span> <span class="pn">[</span><span class="pn">]</span> <span class="pn">}</span>
        <span class="pn">)</span>
    <span class="pn">)</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs45', 119)" onmouseover="showTip(event, 'fs45', 119)" class="rt">CodeFormatter</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs46', 120)" onmouseover="showTip(event, 'fs46', 120)" class="id">FormatASTAsync</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs47', 121)" onmouseover="showTip(event, 'fs47', 121)" class="m">Async</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs48', 122)" onmouseover="showTip(event, 'fs48', 122)" class="id">RunSynchronously</span>

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs58', 123)" onmouseover="showTip(event, 'fs58', 123)" class="id">numberExpr</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs32', 124)" onmouseover="showTip(event, 'fs32', 124)" class="rt">SynExpr</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs33', 125)" onmouseover="showTip(event, 'fs33', 125)" class="id">Const</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs34', 126)" onmouseover="showTip(event, 'fs34', 126)" class="rt">SynConst</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs35', 127)" onmouseover="showTip(event, 'fs35', 127)" class="id">Int32</span><span class="pn">(</span><span class="n">7</span><span class="pn">)</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs13', 128)" onmouseover="showTip(event, 'fs13', 128)" class="m">Range</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs14', 129)" onmouseover="showTip(event, 'fs14', 129)" class="id">Zero</span><span class="pn">)</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs59', 130)" onmouseover="showTip(event, 'fs59', 130)" class="id">wrappedNumber</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs32', 131)" onmouseover="showTip(event, 'fs32', 131)" class="rt">SynExpr</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs60', 132)" onmouseover="showTip(event, 'fs60', 132)" class="id">Paren</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs58', 133)" onmouseover="showTip(event, 'fs58', 133)" class="id">numberExpr</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs13', 134)" onmouseover="showTip(event, 'fs13', 134)" class="m">Range</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs14', 135)" onmouseover="showTip(event, 'fs14', 135)" class="id">Zero</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs21', 136)" onmouseover="showTip(event, 'fs21', 136)" class="uc">None</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs13', 137)" onmouseover="showTip(event, 'fs13', 137)" class="m">Range</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs14', 138)" onmouseover="showTip(event, 'fs14', 138)" class="id">Zero</span><span class="pn">)</span>
<span onmouseout="hideTip(event, 'fs54', 139)" onmouseover="showTip(event, 'fs54', 139)" class="fn">mkCodeFromExpression</span> <span onmouseout="hideTip(event, 'fs59', 140)" onmouseover="showTip(event, 'fs59', 140)" class="id">wrappedNumber</span>
</code></pre>
<table class="pre"><tr><td><pre><code>"(7
"</code></pre></td></tr></table>
<p>Notice that last but one argument <code>None</code>, it represents the range of the closing <code>)</code>.<br />
The F# parser would include <code>Some range</code> when it parses code, so you need to provide a <code>Some range</code> value as well.<br />
Even though the range is empty. Fantomas is designed to work with AST created by the parser.<br />
Creating a <code>SynExpr.Paren</code> node is not enough to get both parentheses!<br />
The <code>CodeFormatter.FormatASTAsync</code> API is really a side-effect and not a first class citizen.<br />
It will work when you play ball with the exact shape of the parser.</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs61', 141)" onmouseover="showTip(event, 'fs61', 141)" class="id">betterWrappedNumber</span> <span class="o">=</span>
    <span onmouseout="hideTip(event, 'fs32', 142)" onmouseover="showTip(event, 'fs32', 142)" class="rt">SynExpr</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs60', 143)" onmouseover="showTip(event, 'fs60', 143)" class="id">Paren</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs58', 144)" onmouseover="showTip(event, 'fs58', 144)" class="id">numberExpr</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs13', 145)" onmouseover="showTip(event, 'fs13', 145)" class="m">Range</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs14', 146)" onmouseover="showTip(event, 'fs14', 146)" class="id">Zero</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs38', 147)" onmouseover="showTip(event, 'fs38', 147)" class="uc">Some</span> <span onmouseout="hideTip(event, 'fs13', 148)" onmouseover="showTip(event, 'fs13', 148)" class="m">Range</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs14', 149)" onmouseover="showTip(event, 'fs14', 149)" class="id">Zero</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs13', 150)" onmouseover="showTip(event, 'fs13', 150)" class="m">Range</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs14', 151)" onmouseover="showTip(event, 'fs14', 151)" class="id">Zero</span><span class="pn">)</span>

<span onmouseout="hideTip(event, 'fs54', 152)" onmouseover="showTip(event, 'fs54', 152)" class="fn">mkCodeFromExpression</span> <span onmouseout="hideTip(event, 'fs61', 153)" onmouseover="showTip(event, 'fs61', 153)" class="id">betterWrappedNumber</span>
</code></pre>
<table class="pre"><tr><td><pre><code>"(7)
"</code></pre></td></tr></table>
<p>As a rule of thumb: <strong>create what the parser creates, use the online tool!</strong><br />
Just because you can create AST nodes, does not mean Fantomas will do the right thing.</p>
<h3><a name="Look-at-the-Fantomas-code-base" class="anchor" href="#Look-at-the-Fantomas-code-base">Look at the Fantomas code base</a></h3>
<p>As mentioned, not every AST node is being used in Fantomas. There are numerous things that do not have any influence on the generation of code.<br />
For example creating <a href="../../reference/fsharp-compiler-syntax-synexpr.html#Lambda">SynExpr.Lambda</a>.</p>
<p>When you want to construct <code>fun a b -&gt; a + b</code>, the AST the online tool produces looks like:</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="id">Lambda</span>
  <span class="pn">(</span><span class="k">false</span><span class="pn">,</span> <span class="k">false</span><span class="pn">,</span>
    <span class="id">SimplePats</span>
    <span class="pn">(</span><span class="pn">[</span><span class="id">Id</span> <span class="pn">(</span><span class="id">a</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs21', 154)" onmouseover="showTip(event, 'fs21', 154)" class="id">None</span><span class="pn">,</span> <span class="k">false</span><span class="pn">,</span> <span class="k">false</span><span class="pn">,</span> <span class="k">false</span><span class="pn">,</span> <span class="id">tmp</span><span class="pn">.</span><span class="id">fsx</span> <span class="pn">(</span><span class="n">1</span><span class="pn">,</span><span class="n">4</span><span class="o">--</span><span class="n">1</span><span class="pn">,</span><span class="n">5</span><span class="pn">)</span><span class="pn">)</span><span class="pn">]</span><span class="pn">,</span>
    <span class="id">tmp</span><span class="pn">.</span><span class="id">fsx</span> <span class="pn">(</span><span class="n">1</span><span class="pn">,</span><span class="n">4</span><span class="o">--</span><span class="n">1</span><span class="pn">,</span><span class="n">5</span><span class="pn">)</span><span class="pn">)</span><span class="pn">,</span>
    <span class="id">Lambda</span>
    <span class="pn">(</span><span class="k">false</span><span class="pn">,</span> <span class="k">true</span><span class="pn">,</span>
    <span class="id">SimplePats</span>
        <span class="pn">(</span><span class="pn">[</span><span class="id">Id</span> <span class="pn">(</span><span class="id">b</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs21', 155)" onmouseover="showTip(event, 'fs21', 155)" class="id">None</span><span class="pn">,</span> <span class="k">false</span><span class="pn">,</span> <span class="k">false</span><span class="pn">,</span> <span class="k">false</span><span class="pn">,</span> <span class="id">tmp</span><span class="pn">.</span><span class="id">fsx</span> <span class="pn">(</span><span class="n">1</span><span class="pn">,</span><span class="n">6</span><span class="o">--</span><span class="n">1</span><span class="pn">,</span><span class="n">7</span><span class="pn">)</span><span class="pn">)</span><span class="pn">]</span><span class="pn">,</span>
        <span class="id">tmp</span><span class="pn">.</span><span class="id">fsx</span> <span class="pn">(</span><span class="n">1</span><span class="pn">,</span><span class="n">6</span><span class="o">--</span><span class="n">1</span><span class="pn">,</span><span class="n">7</span><span class="pn">)</span><span class="pn">)</span><span class="pn">,</span>
    <span class="id">App</span>
        <span class="pn">(</span><span class="id">NonAtomic</span><span class="pn">,</span> <span class="k">false</span><span class="pn">,</span>
        <span class="id">App</span>
            <span class="pn">(</span><span class="id">NonAtomic</span><span class="pn">,</span> <span class="k">true</span><span class="pn">,</span>
            <span class="id">LongIdent</span>
            <span class="pn">(</span><span class="k">false</span><span class="pn">,</span>
                <span class="id">SynLongIdent</span>
                <span class="pn">(</span><span class="pn">[</span><span class="id">op_Addition</span><span class="pn">]</span><span class="pn">,</span> <span class="pn">[</span><span class="pn">]</span><span class="pn">,</span> <span class="pn">[</span><span onmouseout="hideTip(event, 'fs38', 156)" onmouseover="showTip(event, 'fs38', 156)" class="id">Some</span> <span class="pn">(</span><span class="id">OriginalNotation</span> <span class="s">&quot;+&quot;</span><span class="pn">)</span><span class="pn">]</span><span class="pn">)</span><span class="pn">,</span>
                <span onmouseout="hideTip(event, 'fs21', 157)" onmouseover="showTip(event, 'fs21', 157)" class="id">None</span><span class="pn">,</span> <span class="id">tmp</span><span class="pn">.</span><span class="id">fsx</span> <span class="pn">(</span><span class="n">1</span><span class="pn">,</span><span class="n">13</span><span class="o">--</span><span class="n">1</span><span class="pn">,</span><span class="n">14</span><span class="pn">)</span><span class="pn">)</span><span class="pn">,</span> <span class="id">Ident</span> <span class="id">a</span><span class="pn">,</span>
            <span class="id">tmp</span><span class="pn">.</span><span class="id">fsx</span> <span class="pn">(</span><span class="n">1</span><span class="pn">,</span><span class="n">11</span><span class="o">--</span><span class="n">1</span><span class="pn">,</span><span class="n">14</span><span class="pn">)</span><span class="pn">)</span><span class="pn">,</span> <span class="id">Ident</span> <span class="id">b</span><span class="pn">,</span> <span class="id">tmp</span><span class="pn">.</span><span class="id">fsx</span> <span class="pn">(</span><span class="n">1</span><span class="pn">,</span><span class="n">11</span><span class="o">--</span><span class="n">1</span><span class="pn">,</span><span class="n">16</span><span class="pn">)</span><span class="pn">)</span><span class="pn">,</span>
    <span onmouseout="hideTip(event, 'fs21', 158)" onmouseover="showTip(event, 'fs21', 158)" class="id">None</span><span class="pn">,</span> <span class="id">tmp</span><span class="pn">.</span><span class="id">fsx</span> <span class="pn">(</span><span class="n">1</span><span class="pn">,</span><span class="n">0</span><span class="o">--</span><span class="n">1</span><span class="pn">,</span><span class="n">16</span><span class="pn">)</span><span class="pn">,</span>
    <span class="pn">{</span> <span class="id">ArrowRange</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs38', 159)" onmouseover="showTip(event, 'fs38', 159)" class="id">Some</span> <span class="id">tmp</span><span class="pn">.</span><span class="id">fsx</span> <span class="pn">(</span><span class="n">1</span><span class="pn">,</span><span class="n">8</span><span class="o">--</span><span class="n">1</span><span class="pn">,</span><span class="n">10</span><span class="pn">)</span> <span class="pn">}</span><span class="pn">)</span><span class="pn">,</span>
    <span onmouseout="hideTip(event, 'fs38', 160)" onmouseover="showTip(event, 'fs38', 160)" class="id">Some</span>
    <span class="pn">(</span><span class="pn">[</span><span class="id">Named</span> <span class="pn">(</span><span class="id">SynIdent</span> <span class="pn">(</span><span class="id">a</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs21', 161)" onmouseover="showTip(event, 'fs21', 161)" class="id">None</span><span class="pn">)</span><span class="pn">,</span> <span class="k">false</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs21', 162)" onmouseover="showTip(event, 'fs21', 162)" class="id">None</span><span class="pn">,</span> <span class="id">tmp</span><span class="pn">.</span><span class="id">fsx</span> <span class="pn">(</span><span class="n">1</span><span class="pn">,</span><span class="n">4</span><span class="o">--</span><span class="n">1</span><span class="pn">,</span><span class="n">5</span><span class="pn">)</span><span class="pn">)</span><span class="pn">;</span>
        <span class="id">Named</span> <span class="pn">(</span><span class="id">SynIdent</span> <span class="pn">(</span><span class="id">b</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs21', 163)" onmouseover="showTip(event, 'fs21', 163)" class="id">None</span><span class="pn">)</span><span class="pn">,</span> <span class="k">false</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs21', 164)" onmouseover="showTip(event, 'fs21', 164)" class="id">None</span><span class="pn">,</span> <span class="id">tmp</span><span class="pn">.</span><span class="id">fsx</span> <span class="pn">(</span><span class="n">1</span><span class="pn">,</span><span class="n">6</span><span class="o">--</span><span class="n">1</span><span class="pn">,</span><span class="n">7</span><span class="pn">)</span><span class="pn">)</span><span class="pn">]</span><span class="pn">,</span>
    <span class="id">App</span>
        <span class="pn">(</span><span class="id">NonAtomic</span><span class="pn">,</span> <span class="k">false</span><span class="pn">,</span>
        <span class="id">App</span>
            <span class="pn">(</span><span class="id">NonAtomic</span><span class="pn">,</span> <span class="k">true</span><span class="pn">,</span>
            <span class="id">LongIdent</span>
            <span class="pn">(</span><span class="k">false</span><span class="pn">,</span>
                <span class="id">SynLongIdent</span>
                <span class="pn">(</span><span class="pn">[</span><span class="id">op_Addition</span><span class="pn">]</span><span class="pn">,</span> <span class="pn">[</span><span class="pn">]</span><span class="pn">,</span> <span class="pn">[</span><span onmouseout="hideTip(event, 'fs38', 165)" onmouseover="showTip(event, 'fs38', 165)" class="id">Some</span> <span class="pn">(</span><span class="id">OriginalNotation</span> <span class="s">&quot;+&quot;</span><span class="pn">)</span><span class="pn">]</span><span class="pn">)</span><span class="pn">,</span>
                <span onmouseout="hideTip(event, 'fs21', 166)" onmouseover="showTip(event, 'fs21', 166)" class="id">None</span><span class="pn">,</span> <span class="id">tmp</span><span class="pn">.</span><span class="id">fsx</span> <span class="pn">(</span><span class="n">1</span><span class="pn">,</span><span class="n">13</span><span class="o">--</span><span class="n">1</span><span class="pn">,</span><span class="n">14</span><span class="pn">)</span><span class="pn">)</span><span class="pn">,</span> <span class="id">Ident</span> <span class="id">a</span><span class="pn">,</span>
            <span class="id">tmp</span><span class="pn">.</span><span class="id">fsx</span> <span class="pn">(</span><span class="n">1</span><span class="pn">,</span><span class="n">11</span><span class="o">--</span><span class="n">1</span><span class="pn">,</span><span class="n">14</span><span class="pn">)</span><span class="pn">)</span><span class="pn">,</span> <span class="id">Ident</span> <span class="id">b</span><span class="pn">,</span> <span class="id">tmp</span><span class="pn">.</span><span class="id">fsx</span> <span class="pn">(</span><span class="n">1</span><span class="pn">,</span><span class="n">11</span><span class="o">--</span><span class="n">1</span><span class="pn">,</span><span class="n">16</span><span class="pn">)</span><span class="pn">)</span><span class="pn">)</span><span class="pn">,</span>
    <span class="id">tmp</span><span class="pn">.</span><span class="id">fsx</span> <span class="pn">(</span><span class="n">1</span><span class="pn">,</span><span class="n">0</span><span class="o">--</span><span class="n">1</span><span class="pn">,</span><span class="n">16</span><span class="pn">)</span><span class="pn">,</span> <span class="pn">{</span> <span class="id">ArrowRange</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs38', 167)" onmouseover="showTip(event, 'fs38', 167)" class="id">Some</span> <span class="id">tmp</span><span class="pn">.</span><span class="id">fsx</span> <span class="pn">(</span><span class="n">1</span><span class="pn">,</span><span class="n">8</span><span class="o">--</span><span class="n">1</span><span class="pn">,</span><span class="n">10</span><span class="pn">)</span> <span class="pn">}</span><span class="pn">)</span>
</code></pre>
<p>but the Fantomas <code>CodePrinter</code> does not use all this data.
We can easily create a <code>Lambda</code> without the nested body structure, as Fantomas will use the <code>parsedData</code> information.</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="c">// this dummy expr will never be used!</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs62', 168)" onmouseover="showTip(event, 'fs62', 168)" class="id">dummyExpr</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs32', 169)" onmouseover="showTip(event, 'fs32', 169)" class="rt">SynExpr</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs33', 170)" onmouseover="showTip(event, 'fs33', 170)" class="id">Const</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs34', 171)" onmouseover="showTip(event, 'fs34', 171)" class="rt">SynConst</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs63', 172)" onmouseover="showTip(event, 'fs63', 172)" class="id">Unit</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs13', 173)" onmouseover="showTip(event, 'fs13', 173)" class="m">Range</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs14', 174)" onmouseover="showTip(event, 'fs14', 174)" class="id">Zero</span><span class="pn">)</span>

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs64', 175)" onmouseover="showTip(event, 'fs64', 175)" class="id">lambdaExpr</span> <span class="o">=</span>
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs65', 176)" onmouseover="showTip(event, 'fs65', 176)" class="fn">args</span> <span class="o">=</span>
        <span class="pn">[</span> <span onmouseout="hideTip(event, 'fs29', 177)" onmouseover="showTip(event, 'fs29', 177)" class="rt">SynPat</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs30', 178)" onmouseover="showTip(event, 'fs30', 178)" class="id">Named</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs31', 179)" onmouseover="showTip(event, 'fs31', 179)" class="uc">SynIdent</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs12', 180)" onmouseover="showTip(event, 'fs12', 180)" class="fn">Ident</span><span class="pn">(</span><span class="s">&quot;a&quot;</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs13', 181)" onmouseover="showTip(event, 'fs13', 181)" class="m">Range</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs14', 182)" onmouseover="showTip(event, 'fs14', 182)" class="id">Zero</span><span class="pn">)</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs21', 183)" onmouseover="showTip(event, 'fs21', 183)" class="uc">None</span><span class="pn">)</span><span class="pn">,</span> <span class="k">false</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs21', 184)" onmouseover="showTip(event, 'fs21', 184)" class="uc">None</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs13', 185)" onmouseover="showTip(event, 'fs13', 185)" class="m">Range</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs14', 186)" onmouseover="showTip(event, 'fs14', 186)" class="id">Zero</span><span class="pn">)</span>
          <span onmouseout="hideTip(event, 'fs29', 187)" onmouseover="showTip(event, 'fs29', 187)" class="rt">SynPat</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs30', 188)" onmouseover="showTip(event, 'fs30', 188)" class="id">Named</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs31', 189)" onmouseover="showTip(event, 'fs31', 189)" class="uc">SynIdent</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs12', 190)" onmouseover="showTip(event, 'fs12', 190)" class="fn">Ident</span><span class="pn">(</span><span class="s">&quot;b&quot;</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs13', 191)" onmouseover="showTip(event, 'fs13', 191)" class="m">Range</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs14', 192)" onmouseover="showTip(event, 'fs14', 192)" class="id">Zero</span><span class="pn">)</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs21', 193)" onmouseover="showTip(event, 'fs21', 193)" class="uc">None</span><span class="pn">)</span><span class="pn">,</span> <span class="k">false</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs21', 194)" onmouseover="showTip(event, 'fs21', 194)" class="uc">None</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs13', 195)" onmouseover="showTip(event, 'fs13', 195)" class="m">Range</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs14', 196)" onmouseover="showTip(event, 'fs14', 196)" class="id">Zero</span><span class="pn">)</span> <span class="pn">]</span>

    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs66', 197)" onmouseover="showTip(event, 'fs66', 197)" class="fn">expr</span> <span class="o">=</span>
        <span onmouseout="hideTip(event, 'fs32', 198)" onmouseover="showTip(event, 'fs32', 198)" class="rt">SynExpr</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs67', 199)" onmouseover="showTip(event, 'fs67', 199)" class="id">App</span><span class="pn">(</span>
            <span onmouseout="hideTip(event, 'fs68', 200)" onmouseover="showTip(event, 'fs68', 200)" class="en">ExprAtomicFlag</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs69', 201)" onmouseover="showTip(event, 'fs69', 201)" class="id">NonAtomic</span><span class="pn">,</span>
            <span class="k">false</span><span class="pn">,</span>
            <span onmouseout="hideTip(event, 'fs32', 202)" onmouseover="showTip(event, 'fs32', 202)" class="rt">SynExpr</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs67', 203)" onmouseover="showTip(event, 'fs67', 203)" class="id">App</span><span class="pn">(</span>
                <span onmouseout="hideTip(event, 'fs68', 204)" onmouseover="showTip(event, 'fs68', 204)" class="en">ExprAtomicFlag</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs69', 205)" onmouseover="showTip(event, 'fs69', 205)" class="id">NonAtomic</span><span class="pn">,</span>
                <span class="k">true</span><span class="pn">,</span>
                <span onmouseout="hideTip(event, 'fs32', 206)" onmouseover="showTip(event, 'fs32', 206)" class="rt">SynExpr</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs70', 207)" onmouseover="showTip(event, 'fs70', 207)" class="id">LongIdent</span><span class="pn">(</span>
                    <span class="k">false</span><span class="pn">,</span>
                    <span onmouseout="hideTip(event, 'fs71', 208)" onmouseover="showTip(event, 'fs71', 208)" class="uc">SynLongIdent</span><span class="pn">(</span>
                        <span class="pn">[</span> <span onmouseout="hideTip(event, 'fs12', 209)" onmouseover="showTip(event, 'fs12', 209)" class="fn">Ident</span><span class="pn">(</span><span class="s">&quot;_actually_not_used_&quot;</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs13', 210)" onmouseover="showTip(event, 'fs13', 210)" class="m">Range</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs14', 211)" onmouseover="showTip(event, 'fs14', 211)" class="id">Zero</span><span class="pn">)</span> <span class="pn">]</span><span class="pn">,</span>
                        <span class="pn">[</span><span class="pn">]</span><span class="pn">,</span>
                        <span class="pn">[</span> <span onmouseout="hideTip(event, 'fs38', 212)" onmouseover="showTip(event, 'fs38', 212)" class="uc">Some</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs72', 213)" onmouseover="showTip(event, 'fs72', 213)" class="rt">IdentTrivia</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs73', 214)" onmouseover="showTip(event, 'fs73', 214)" class="id">OriginalNotation</span><span class="pn">(</span><span class="s">&quot;+&quot;</span><span class="pn">)</span><span class="pn">)</span> <span class="pn">]</span>
                    <span class="pn">)</span><span class="pn">,</span>
                    <span onmouseout="hideTip(event, 'fs21', 215)" onmouseover="showTip(event, 'fs21', 215)" class="uc">None</span><span class="pn">,</span>
                    <span onmouseout="hideTip(event, 'fs13', 216)" onmouseover="showTip(event, 'fs13', 216)" class="m">Range</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs14', 217)" onmouseover="showTip(event, 'fs14', 217)" class="id">Zero</span>

                <span class="pn">)</span><span class="pn">,</span>
                <span onmouseout="hideTip(event, 'fs32', 218)" onmouseover="showTip(event, 'fs32', 218)" class="rt">SynExpr</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs74', 219)" onmouseover="showTip(event, 'fs74', 219)" class="id">Ident</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs12', 220)" onmouseover="showTip(event, 'fs12', 220)" class="fn">Ident</span><span class="pn">(</span><span class="s">&quot;a&quot;</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs13', 221)" onmouseover="showTip(event, 'fs13', 221)" class="m">Range</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs14', 222)" onmouseover="showTip(event, 'fs14', 222)" class="id">Zero</span><span class="pn">)</span><span class="pn">)</span><span class="pn">,</span>
                <span onmouseout="hideTip(event, 'fs13', 223)" onmouseover="showTip(event, 'fs13', 223)" class="m">Range</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs14', 224)" onmouseover="showTip(event, 'fs14', 224)" class="id">Zero</span>
            <span class="pn">)</span><span class="pn">,</span>
            <span onmouseout="hideTip(event, 'fs32', 225)" onmouseover="showTip(event, 'fs32', 225)" class="rt">SynExpr</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs74', 226)" onmouseover="showTip(event, 'fs74', 226)" class="id">Ident</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs12', 227)" onmouseover="showTip(event, 'fs12', 227)" class="fn">Ident</span><span class="pn">(</span><span class="s">&quot;b&quot;</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs13', 228)" onmouseover="showTip(event, 'fs13', 228)" class="m">Range</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs14', 229)" onmouseover="showTip(event, 'fs14', 229)" class="id">Zero</span><span class="pn">)</span><span class="pn">)</span><span class="pn">,</span>
            <span onmouseout="hideTip(event, 'fs13', 230)" onmouseover="showTip(event, 'fs13', 230)" class="m">Range</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs14', 231)" onmouseover="showTip(event, 'fs14', 231)" class="id">Zero</span>
        <span class="pn">)</span>

    <span onmouseout="hideTip(event, 'fs32', 232)" onmouseover="showTip(event, 'fs32', 232)" class="rt">SynExpr</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs75', 233)" onmouseover="showTip(event, 'fs75', 233)" class="id">Lambda</span><span class="pn">(</span>
        <span class="k">false</span><span class="pn">,</span>
        <span class="k">false</span><span class="pn">,</span>
        <span onmouseout="hideTip(event, 'fs76', 234)" onmouseover="showTip(event, 'fs76', 234)" class="rt">SynSimplePats</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs77', 235)" onmouseover="showTip(event, 'fs77', 235)" class="id">SimplePats</span><span class="pn">(</span><span class="pn">[</span><span class="pn">]</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs13', 236)" onmouseover="showTip(event, 'fs13', 236)" class="m">Range</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs14', 237)" onmouseover="showTip(event, 'fs14', 237)" class="id">Zero</span><span class="pn">)</span><span class="pn">,</span> <span class="c">// not used</span>
        <span onmouseout="hideTip(event, 'fs62', 238)" onmouseover="showTip(event, 'fs62', 238)" class="id">dummyExpr</span><span class="pn">,</span> <span class="c">// not used</span>
        <span onmouseout="hideTip(event, 'fs38', 239)" onmouseover="showTip(event, 'fs38', 239)" class="uc">Some</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs65', 240)" onmouseover="showTip(event, 'fs65', 240)" class="fn">args</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs66', 241)" onmouseover="showTip(event, 'fs66', 241)" class="fn">expr</span><span class="pn">)</span><span class="pn">,</span> <span class="c">// The good stuff is in here!</span>
        <span onmouseout="hideTip(event, 'fs13', 242)" onmouseover="showTip(event, 'fs13', 242)" class="m">Range</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs14', 243)" onmouseover="showTip(event, 'fs14', 243)" class="id">Zero</span><span class="pn">,</span>
        <span class="pn">{</span> <span class="prop">ArrowRange</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs38', 244)" onmouseover="showTip(event, 'fs38', 244)" class="uc">Some</span> <span onmouseout="hideTip(event, 'fs13', 245)" onmouseover="showTip(event, 'fs13', 245)" class="m">Range</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs14', 246)" onmouseover="showTip(event, 'fs14', 246)" class="id">Zero</span> <span class="pn">}</span>
    <span class="pn">)</span>

<span onmouseout="hideTip(event, 'fs54', 247)" onmouseover="showTip(event, 'fs54', 247)" class="fn">mkCodeFromExpression</span> <span onmouseout="hideTip(event, 'fs64', 248)" onmouseover="showTip(event, 'fs64', 248)" class="id">lambdaExpr</span>
</code></pre>
<table class="pre"><tr><td><pre><code>"fun a b -&gt; a + b
"</code></pre></td></tr></table>
<p>Notice how minimal the AST is, versus to what the parser produced. A subset of the data was enough.<br />
How to know which nodes to include? Take a look at <code>CodePrinter.fs</code> and <code>SourceParser.fs</code>!</p>
<h3><a name="Create-your-own-set-of-helper-functions" class="anchor" href="#Create-your-own-set-of-helper-functions">Create your own set of helper functions</a></h3>
<p>Throughout all these examples, we have duplicated a lot of code. You can typically easily refactor this into some helper functions.<br />
The Fantomas maintainers are not affiliated with any projects that expose AST construction helpers.<br />
Relying on these projects, is at your own risk. The constructed AST might not be suitable for what Fantomas expects.</p>
<h3><a name="Updates" class="anchor" href="#Updates">Updates</a></h3>
<p>Since code generation is considered to be a nice to have functionality, there is no compatibility between any <code>Fantomas.FCS</code>.<br />
We do not apply any semantic versioning to <code>Fantomas.FCS</code>. Breaking changes can be expected at any given point.</p>
<fantomas-nav previous="./VSCode.html" next="./FAQ.html"></fantomas-nav>

        <div class="fsdocs-tip" id="fs1">Multiple items<br />namespace FSharp<br /><br />--------------------<br />namespace Microsoft.FSharp</div>
<div class="fsdocs-tip" id="fs2">namespace FSharp.Compiler</div>
<div class="fsdocs-tip" id="fs3">namespace FSharp.Compiler.Text</div>
<div class="fsdocs-tip" id="fs4">namespace FSharp.Compiler.Xml</div>
<div class="fsdocs-tip" id="fs5">namespace FSharp.Compiler.Syntax</div>
<div class="fsdocs-tip" id="fs6">namespace FSharp.Compiler.SyntaxTrivia</div>
<div class="fsdocs-tip" id="fs7">val implementationSyntaxTree: ParsedInput</div>
<div class="fsdocs-tip" id="fs8">type ParsedInput =
  | ImplFile of ParsedImplFileInput
  | SigFile of ParsedSigFileInput
  member FileName: string
  member QualifiedName: QualifiedNameOfFile
  member Range: range
  member ScopedPragmas: ScopedPragma list<br /><em>&lt;summary&gt;
 Represents the syntax tree for a parsed implementation or signature file
&lt;/summary&gt;</em></div>
<div class="fsdocs-tip" id="fs9">union case ParsedInput.ImplFile: ParsedImplFileInput -&gt; ParsedInput<br /><em>&lt;summary&gt;
 A parsed implementation file
&lt;/summary&gt;</em></div>
<div class="fsdocs-tip" id="fs10">Multiple items<br />union case ParsedImplFileInput.ParsedImplFileInput: fileName: string * isScript: bool * qualifiedNameOfFile: QualifiedNameOfFile * scopedPragmas: ScopedPragma list * hashDirectives: ParsedHashDirective list * contents: SynModuleOrNamespace list * flags: bool * bool * trivia: ParsedImplFileInputTrivia -&gt; ParsedImplFileInput<br /><br />--------------------<br />type ParsedImplFileInput =
  | ParsedImplFileInput of fileName: string * isScript: bool * qualifiedNameOfFile: QualifiedNameOfFile * scopedPragmas: ScopedPragma list * hashDirectives: ParsedHashDirective list * contents: SynModuleOrNamespace list * flags: bool * bool * trivia: ParsedImplFileInputTrivia
  member Contents: SynModuleOrNamespace list
  member FileName: string
  member HashDirectives: ParsedHashDirective list
  member IsExe: bool
  member IsLastCompiland: bool
  member IsScript: bool
  member QualifiedName: QualifiedNameOfFile
  member ScopedPragmas: ScopedPragma list
  member Trivia: ParsedImplFileInputTrivia<br /><em>&lt;summary&gt;
 Represents the full syntax tree, file name and other parsing information for an implementation file
&lt;/summary&gt;</em></div>
<div class="fsdocs-tip" id="fs11">Multiple items<br />union case QualifiedNameOfFile.QualifiedNameOfFile: Ident -&gt; QualifiedNameOfFile<br /><br />--------------------<br />type QualifiedNameOfFile =
  | QualifiedNameOfFile of Ident
  member Id: Ident
  member Range: range
  member Text: string<br /><em>&lt;summary&gt;
 Represents a qualifying name for anonymous module specifications and implementations,
&lt;/summary&gt;</em></div>
<div class="fsdocs-tip" id="fs12">Multiple items<br />[&lt;Struct&gt;]
type Ident =
  new: text: string * range: range -&gt; Ident
  member idRange: range
  member idText: string<br /><em>&lt;summary&gt;
 Represents an identifier in F# code
&lt;/summary&gt;</em><br /><br />--------------------<br />Ident ()<br />new: text: string * range: range -&gt; Ident</div>
<div class="fsdocs-tip" id="fs13">Multiple items<br />module Range

from FSharp.Compiler.Text<br /><br />--------------------<br />[&lt;Struct&gt;]
type Range =
  member End: pos
  member EndColumn: int
  member EndLine: int
  member EndRange: range
  member FileName: string
  member IsSynthetic: bool
  member Start: pos
  member StartColumn: int
  member StartLine: int
  member StartRange: range
  ...<br /><em>&lt;summary&gt;
 Represents a range within a file
&lt;/summary&gt;</em></div>
<div class="fsdocs-tip" id="fs14">property Range.Zero: range with get<br /><em>&lt;summary&gt;
 The range where all values are zero
&lt;/summary&gt;</em></div>
<div class="fsdocs-tip" id="fs15">Multiple items<br />union case SynModuleOrNamespace.SynModuleOrNamespace: longId: LongIdent * isRecursive: bool * kind: SynModuleOrNamespaceKind * decls: SynModuleDecl list * xmlDoc: PreXmlDoc * attribs: SynAttributes * accessibility: SynAccess option * range: range * trivia: SynModuleOrNamespaceTrivia -&gt; SynModuleOrNamespace<br /><br />--------------------<br />type SynModuleOrNamespace =
  | SynModuleOrNamespace of longId: LongIdent * isRecursive: bool * kind: SynModuleOrNamespaceKind * decls: SynModuleDecl list * xmlDoc: PreXmlDoc * attribs: SynAttributes * accessibility: SynAccess option * range: range * trivia: SynModuleOrNamespaceTrivia
  member Range: range<br /><em>&lt;summary&gt;
 Represents the definition of a module or namespace
&lt;/summary&gt;</em></div>
<div class="fsdocs-tip" id="fs16">[&lt;Struct&gt;]
type SynModuleOrNamespaceKind =
  | NamedModule
  | AnonModule
  | DeclaredNamespace
  | GlobalNamespace
  member IsModule: bool<br /><em>&lt;summary&gt;
 Represents the kind of a module or namespace definition
&lt;/summary&gt;</em></div>
<div class="fsdocs-tip" id="fs17">union case SynModuleOrNamespaceKind.AnonModule: SynModuleOrNamespaceKind<br /><em>&lt;summary&gt;
 A module is anonymously named, e.g. a script
&lt;/summary&gt;</em></div>
<div class="fsdocs-tip" id="fs18">type SynModuleDecl =
  | ModuleAbbrev of ident: Ident * longId: LongIdent * range: range
  | NestedModule of moduleInfo: SynComponentInfo * isRecursive: bool * decls: SynModuleDecl list * isContinuing: bool * range: range * trivia: SynModuleDeclNestedModuleTrivia
  | Let of isRecursive: bool * bindings: SynBinding list * range: range
  | Expr of expr: SynExpr * range: range
  | Types of typeDefns: SynTypeDefn list * range: range
  | Exception of exnDefn: SynExceptionDefn * range: range
  | Open of target: SynOpenDeclTarget * range: range
  | Attributes of attributes: SynAttributes * range: range
  | HashDirective of hashDirective: ParsedHashDirective * range: range
  | NamespaceFragment of fragment: SynModuleOrNamespace
  member Range: range<br /><em>&lt;summary&gt;
 Represents a definition within a module
&lt;/summary&gt;</em></div>
<div class="fsdocs-tip" id="fs19">union case SynModuleDecl.Let: isRecursive: bool * bindings: SynBinding list * range: range -&gt; SynModuleDecl<br /><em>&lt;summary&gt;
 A &#39;let&#39; definition within a module
&lt;/summary&gt;</em></div>
<div class="fsdocs-tip" id="fs20">Multiple items<br />union case SynBinding.SynBinding: accessibility: SynAccess option * kind: SynBindingKind * isInline: bool * isMutable: bool * attributes: SynAttributes * xmlDoc: PreXmlDoc * valData: SynValData * headPat: SynPat * returnInfo: SynBindingReturnInfo option * expr: SynExpr * range: range * debugPoint: DebugPointAtBinding * trivia: SynBindingTrivia -&gt; SynBinding<br /><br />--------------------<br />type SynBinding =
  | SynBinding of accessibility: SynAccess option * kind: SynBindingKind * isInline: bool * isMutable: bool * attributes: SynAttributes * xmlDoc: PreXmlDoc * valData: SynValData * headPat: SynPat * returnInfo: SynBindingReturnInfo option * expr: SynExpr * range: range * debugPoint: DebugPointAtBinding * trivia: SynBindingTrivia
  member RangeOfBindingWithRhs: range
  member RangeOfBindingWithoutRhs: range
  member RangeOfHeadPattern: range<br /><em>&lt;summary&gt;
 Represents a binding for a &#39;let&#39; or &#39;member&#39; declaration
&lt;/summary&gt;</em></div>
<div class="fsdocs-tip" id="fs21">union case Option.None: Option&lt;&#39;T&gt;</div>
<div class="fsdocs-tip" id="fs22">type SynBindingKind =
  | StandaloneExpression
  | Normal
  | Do<br /><em>&lt;summary&gt;
 The kind associated with a binding - &quot;let&quot;, &quot;do&quot; or a standalone expression
&lt;/summary&gt;</em></div>
<div class="fsdocs-tip" id="fs23">union case SynBindingKind.Normal: SynBindingKind<br /><em>&lt;summary&gt;
 A normal &#39;let&#39; binding in a module
&lt;/summary&gt;</em></div>
<div class="fsdocs-tip" id="fs24">type PreXmlDoc =
  member ToXmlDoc: check: bool * paramNamesOpt: string list option -&gt; XmlDoc
  static member Create: unprocessedLines: string array * range: range -&gt; PreXmlDoc
  static member Merge: a: PreXmlDoc -&gt; b: PreXmlDoc -&gt; PreXmlDoc
  member IsEmpty: bool
  static member Empty: PreXmlDoc<br /><em>&lt;summary&gt;
 Represents the XmlDoc fragments as collected from the lexer during parsing
&lt;/summary&gt;</em></div>
<div class="fsdocs-tip" id="fs25">property PreXmlDoc.Empty: PreXmlDoc with get<br /><em>&lt;summary&gt;
 Get the empty PreXmlDoc
&lt;/summary&gt;</em></div>
<div class="fsdocs-tip" id="fs26">Multiple items<br />union case SynValData.SynValData: memberFlags: SynMemberFlags option * valInfo: SynValInfo * thisIdOpt: Ident option -&gt; SynValData<br /><br />--------------------<br />type SynValData =
  | SynValData of memberFlags: SynMemberFlags option * valInfo: SynValInfo * thisIdOpt: Ident option
  member SynValInfo: SynValInfo<br /><em>&lt;summary&gt;
 Represents extra information about the declaration of a value
&lt;/summary&gt;</em></div>
<div class="fsdocs-tip" id="fs27">Multiple items<br />union case SynValInfo.SynValInfo: curriedArgInfos: SynArgInfo list list * returnInfo: SynArgInfo -&gt; SynValInfo<br /><em>&lt;summary&gt;
 SynValInfo(curriedArgInfos, returnInfo)
&lt;/summary&gt;</em><br /><br />--------------------<br />type SynValInfo =
  | SynValInfo of curriedArgInfos: SynArgInfo list list * returnInfo: SynArgInfo
  member ArgNames: string list
  member CurriedArgInfos: SynArgInfo list list<br /><em>&lt;summary&gt;
 The argument names and other metadata for a member or function
&lt;/summary&gt;</em></div>
<div class="fsdocs-tip" id="fs28">Multiple items<br />union case SynArgInfo.SynArgInfo: attributes: SynAttributes * optional: bool * ident: Ident option -&gt; SynArgInfo<br /><br />--------------------<br />type SynArgInfo =
  | SynArgInfo of attributes: SynAttributes * optional: bool * ident: Ident option
  member Attributes: SynAttributes
  member Ident: Ident option<br /><em>&lt;summary&gt;
 Represents the argument names and other metadata for a parameter for a member or function
&lt;/summary&gt;</em></div>
<div class="fsdocs-tip" id="fs29">type SynPat =
  | Const of constant: SynConst * range: range
  | Wild of range: range
  | Named of ident: SynIdent * isThisVal: bool * accessibility: SynAccess option * range: range
  | Typed of pat: SynPat * targetType: SynType * range: range
  | Attrib of pat: SynPat * attributes: SynAttributes * range: range
  | Or of lhsPat: SynPat * rhsPat: SynPat * range: range * trivia: SynPatOrTrivia
  | ListCons of lhsPat: SynPat * rhsPat: SynPat * range: range * trivia: SynPatListConsTrivia
  | Ands of pats: SynPat list * range: range
  | As of lhsPat: SynPat * rhsPat: SynPat * range: range
  | LongIdent of longDotId: SynLongIdent * extraId: Ident option * typarDecls: SynValTyparDecls option * argPats: SynArgPats * accessibility: SynAccess option * range: range
  ...
  member Range: range<br /><em>&lt;summary&gt;
 Represents a syntax tree for an F# pattern
&lt;/summary&gt;</em></div>
<div class="fsdocs-tip" id="fs30">union case SynPat.Named: ident: SynIdent * isThisVal: bool * accessibility: SynAccess option * range: range -&gt; SynPat<br /><em>&lt;summary&gt;
 A name pattern &#39;ident&#39;
&lt;/summary&gt;</em></div>
<div class="fsdocs-tip" id="fs31">Multiple items<br />union case SynIdent.SynIdent: ident: Ident * trivia: IdentTrivia option -&gt; SynIdent<br /><br />--------------------<br />type SynIdent = | SynIdent of ident: Ident * trivia: IdentTrivia option<br /><em>&lt;summary&gt;
 Represents an identifier with potentially additional trivia information.
&lt;/summary&gt;</em></div>
<div class="fsdocs-tip" id="fs32">type SynExpr =
  | Paren of expr: SynExpr * leftParenRange: range * rightParenRange: range option * range: range
  | Quote of operator: SynExpr * isRaw: bool * quotedExpr: SynExpr * isFromQueryExpression: bool * range: range
  | Const of constant: SynConst * range: range
  | Typed of expr: SynExpr * targetType: SynType * range: range
  | Tuple of isStruct: bool * exprs: SynExpr list * commaRanges: range list * range: range
  | AnonRecd of isStruct: bool * copyInfo: (SynExpr * BlockSeparator) option * recordFields: (Ident * range option * SynExpr) list * range: range
  | ArrayOrList of isArray: bool * exprs: SynExpr list * range: range
  | Record of baseInfo: (SynType * SynExpr * range * BlockSeparator option * range) option * copyInfo: (SynExpr * BlockSeparator) option * recordFields: SynExprRecordField list * range: range
  | New of isProtected: bool * targetType: SynType * expr: SynExpr * range: range
  | ObjExpr of objType: SynType * argOptions: (SynExpr * Ident option) option * withKeyword: range option * bindings: SynBinding list * members: SynMemberDefns * extraImpls: SynInterfaceImpl list * newExprRange: range * range: range
  ...
  member IsArbExprAndThusAlreadyReportedError: bool
  member Range: range
  member RangeOfFirstPortion: range
  member RangeWithoutAnyExtraDot: range<br /><em>&lt;summary&gt;
 Represents a syntax tree for F# expressions
&lt;/summary&gt;</em></div>
<div class="fsdocs-tip" id="fs33">union case SynExpr.Const: constant: SynConst * range: range -&gt; SynExpr<br /><em>&lt;summary&gt;
 F# syntax: 1, 1.3, () etc.
&lt;/summary&gt;</em></div>
<div class="fsdocs-tip" id="fs34">type SynConst =
  | Unit
  | Bool of bool
  | SByte of sbyte
  | Byte of byte
  | Int16 of int16
  | UInt16 of uint16
  | Int32 of int32
  | UInt32 of uint32
  | Int64 of int64
  | UInt64 of uint64
  ...
  member Range: dflt: range -&gt; range<br /><em>&lt;summary&gt;
 The unchecked abstract syntax tree of constants in F# types and expressions.
&lt;/summary&gt;</em></div>
<div class="fsdocs-tip" id="fs35">union case SynConst.Int32: int32 -&gt; SynConst<br /><em>&lt;summary&gt;
 F# syntax: 13, 0x4000, 0o0777
&lt;/summary&gt;</em></div>
<div class="fsdocs-tip" id="fs36">type DebugPointAtBinding =
  | Yes of range: range
  | NoneAtDo
  | NoneAtLet
  | NoneAtSticky
  | NoneAtInvisible
  member Combine: y: DebugPointAtBinding -&gt; DebugPointAtBinding<br /><em>&lt;summary&gt;
 Represents whether a debug point should be present for a &#39;let&#39; binding,
 that is whether the construct corresponds to a debug point in the original source.
&lt;/summary&gt;</em></div>
<div class="fsdocs-tip" id="fs37">union case DebugPointAtBinding.Yes: range: range -&gt; DebugPointAtBinding</div>
<div class="fsdocs-tip" id="fs38">union case Option.Some: Value: &#39;T -&gt; Option&lt;&#39;T&gt;</div>
<div class="fsdocs-tip" id="fs39">type SynLeadingKeyword =
  | Let of letRange: range
  | LetRec of letRange: range * recRange: range
  | And of andRange: range
  | Use of useRange: range
  | UseRec of useRange: range * recRange: range
  | Extern of externRange: range
  | Member of memberRange: range
  | MemberVal of memberRange: range * valRange: range
  | Override of overrideRange: range
  | OverrideVal of overrideRange: range * valRange: range
  ...
  member Range: range<br /><em>&lt;summary&gt;
 Represents the leading keyword in a SynBinding or SynValSig
&lt;/summary&gt;</em></div>
<div class="fsdocs-tip" id="fs40">union case SynLeadingKeyword.Let: letRange: range -&gt; SynLeadingKeyword</div>
<div class="fsdocs-tip" id="fs41">type SynModuleOrNamespaceLeadingKeyword =
  | Module of moduleRange: range
  | Namespace of namespaceRange: range
  | None<br /><em>&lt;summary&gt;
 Represents the leading keyword in a SynModuleOrNamespace or SynModuleOrNamespaceSig
&lt;/summary&gt;</em></div>
<div class="fsdocs-tip" id="fs42">union case SynModuleOrNamespaceLeadingKeyword.None: SynModuleOrNamespaceLeadingKeyword</div>
<div class="fsdocs-tip" id="fs43">namespace Fantomas</div>
<div class="fsdocs-tip" id="fs44">namespace Fantomas.Core</div>
<div class="fsdocs-tip" id="fs45">type CodeFormatter =
  static member FormatASTAsync: ast: ParsedInput * ?source: string * ?config: FormatConfig -&gt; Async&lt;string&gt;
  static member FormatDocumentAsync: isSignature: bool * source: string * ?config: FormatConfig -&gt; Async&lt;string&gt;
  static member FormatSelectionAsync: isSignature: bool * source: string * selection: Range * ?config: FormatConfig -&gt; Async&lt;string * range&gt;
  static member GetVersion: unit -&gt; string
  static member IsValidFSharpCodeAsync: isSignature: bool * source: string -&gt; Async&lt;bool&gt;
  static member MakeRange: fileName: string * startLine: int * startCol: int * endLine: int * endCol: int -&gt; range
  static member ParseAsync: isSignature: bool * source: string -&gt; Async&lt;(ParsedInput * string list) array&gt;</div>
<div class="fsdocs-tip" id="fs46">static member CodeFormatter.FormatASTAsync: ast: ParsedInput * ?source: string * ?config: FormatConfig.FormatConfig -&gt; Async&lt;string&gt;</div>
<div class="fsdocs-tip" id="fs47">Multiple items<br />module Async

from Fantomas.Core<br /><br />--------------------<br />type Async =
  static member AsBeginEnd: computation: (&#39;Arg -&gt; Async&lt;&#39;T&gt;) -&gt; (&#39;Arg * AsyncCallback * obj -&gt; IAsyncResult) * (IAsyncResult -&gt; &#39;T) * (IAsyncResult -&gt; unit)
  static member AwaitEvent: event: IEvent&lt;&#39;Del,&#39;T&gt; * ?cancelAction: (unit -&gt; unit) -&gt; Async&lt;&#39;T&gt; (requires delegate and &#39;Del :&gt; Delegate)
  static member AwaitIAsyncResult: iar: IAsyncResult * ?millisecondsTimeout: int -&gt; Async&lt;bool&gt;
  static member AwaitTask: task: Task&lt;&#39;T&gt; -&gt; Async&lt;&#39;T&gt; + 1 overload
  static member AwaitWaitHandle: waitHandle: WaitHandle * ?millisecondsTimeout: int -&gt; Async&lt;bool&gt;
  static member CancelDefaultToken: unit -&gt; unit
  static member Catch: computation: Async&lt;&#39;T&gt; -&gt; Async&lt;Choice&lt;&#39;T,exn&gt;&gt;
  static member Choice: computations: seq&lt;Async&lt;&#39;T option&gt;&gt; -&gt; Async&lt;&#39;T option&gt;
  static member FromBeginEnd: beginAction: (AsyncCallback * obj -&gt; IAsyncResult) * endAction: (IAsyncResult -&gt; &#39;T) * ?cancelAction: (unit -&gt; unit) -&gt; Async&lt;&#39;T&gt; + 3 overloads
  static member FromContinuations: callback: ((&#39;T -&gt; unit) * (exn -&gt; unit) * (OperationCanceledException -&gt; unit) -&gt; unit) -&gt; Async&lt;&#39;T&gt;
  ...<br /><br />--------------------<br />type Async&lt;&#39;T&gt;</div>
<div class="fsdocs-tip" id="fs48">static member Async.RunSynchronously: computation: Async&lt;&#39;T&gt; * ?timeout: int * ?cancellationToken: System.Threading.CancellationToken -&gt; &#39;T</div>
<div class="fsdocs-tip" id="fs49">namespace Fantomas.FCS</div>
<div class="fsdocs-tip" id="fs50">module Parse

from Fantomas.FCS</div>
<div class="fsdocs-tip" id="fs51">val parseFile: isSignature: bool -&gt; sourceText: ISourceText -&gt; defines: string list -&gt; ParsedInput * Parse.FSharpParserDiagnostic list</div>
<div class="fsdocs-tip" id="fs52">module SourceText

from FSharp.Compiler.Text<br /><em>&lt;summary&gt;
 Functions related to ISourceText objects
&lt;/summary&gt;</em></div>
<div class="fsdocs-tip" id="fs53">val ofString: string -&gt; ISourceText<br /><em>&lt;summary&gt;
 Creates an ISourceText object from the given string
&lt;/summary&gt;</em></div>
<div class="fsdocs-tip" id="fs54">val mkCodeFromExpression: e: SynExpr -&gt; string</div>
<div class="fsdocs-tip" id="fs55">val e: SynExpr</div>
<div class="fsdocs-tip" id="fs56">Multiple items<br />val string: value: &#39;T -&gt; string<br /><br />--------------------<br />type string = System.String</div>
<div class="fsdocs-tip" id="fs57">union case SynModuleDecl.Expr: expr: SynExpr * range: range -&gt; SynModuleDecl<br /><em>&lt;summary&gt;
 An &#39;expr&#39; within a module.
&lt;/summary&gt;</em></div>
<div class="fsdocs-tip" id="fs58">val numberExpr: SynExpr</div>
<div class="fsdocs-tip" id="fs59">val wrappedNumber: SynExpr</div>
<div class="fsdocs-tip" id="fs60">union case SynExpr.Paren: expr: SynExpr * leftParenRange: range * rightParenRange: range option * range: range -&gt; SynExpr<br /><em>&lt;summary&gt;
 F# syntax: (expr)

 Parenthesized expressions. Kept in AST to distinguish A.M((x, y))
 from A.M(x, y), among other things.
&lt;/summary&gt;</em></div>
<div class="fsdocs-tip" id="fs61">val betterWrappedNumber: SynExpr</div>
<div class="fsdocs-tip" id="fs62">val dummyExpr: SynExpr</div>
<div class="fsdocs-tip" id="fs63">union case SynConst.Unit: SynConst<br /><em>&lt;summary&gt;
 F# syntax: ()
&lt;/summary&gt;</em></div>
<div class="fsdocs-tip" id="fs64">val lambdaExpr: SynExpr</div>
<div class="fsdocs-tip" id="fs65">val args: SynPat list</div>
<div class="fsdocs-tip" id="fs66">val expr: SynExpr</div>
<div class="fsdocs-tip" id="fs67">union case SynExpr.App: flag: ExprAtomicFlag * isInfix: bool * funcExpr: SynExpr * argExpr: SynExpr * range: range -&gt; SynExpr<br /><em>&lt;summary&gt;
 F# syntax: f x

 flag: indicates if the application is syntactically atomic, e.g. f.[1] is atomic, but &#39;f x&#39; is not
 isInfix is true for the first app of an infix operator, e.g. 1+2
 becomes App(App(+, 1), 2), where the inner node is marked isInfix
&lt;/summary&gt;</em></div>
<div class="fsdocs-tip" id="fs68">[&lt;Struct&gt;]
type ExprAtomicFlag =
  | Atomic = 0
  | NonAtomic = 1<br /><em>&lt;summary&gt;
 Indicates if an expression is an atomic expression.

 An atomic expression has no whitespace unless enclosed in parentheses, e.g.
 1, &quot;3&quot;, ident, ident.[expr] and (expr). If an atomic expression has type T,
 then the largest expression ending at the same range as the atomic expression
 also has type T.
&lt;/summary&gt;</em></div>
<div class="fsdocs-tip" id="fs69">ExprAtomicFlag.NonAtomic: ExprAtomicFlag = 1</div>
<div class="fsdocs-tip" id="fs70">union case SynExpr.LongIdent: isOptional: bool * longDotId: SynLongIdent * altNameRefCell: SynSimplePatAlternativeIdInfo ref option * range: range -&gt; SynExpr<br /><em>&lt;summary&gt;
 F# syntax: ident.ident...ident

 isOptional: true if preceded by a &#39;?&#39; for an optional named parameter
 altNameRefCell: Normally &#39;None&#39; except for some compiler-generated
 variables in desugaring pattern matching. See SynSimplePat.Id
&lt;/summary&gt;</em></div>
<div class="fsdocs-tip" id="fs71">Multiple items<br />union case SynLongIdent.SynLongIdent: id: LongIdent * dotRanges: range list * trivia: IdentTrivia option list -&gt; SynLongIdent<br /><br />--------------------<br />type SynLongIdent =
  | SynLongIdent of id: LongIdent * dotRanges: range list * trivia: IdentTrivia option list
  member Dots: range list
  member IdentsWithTrivia: SynIdent list
  member LongIdent: LongIdent
  member Range: range
  member RangeWithoutAnyExtraDot: range
  member ThereIsAnExtraDotAtTheEnd: bool
  member Trivia: IdentTrivia list<br /><em>&lt;summary&gt;
 Represents a long identifier with possible &#39;.&#39; at end.

 Typically dotRanges.Length = lid.Length-1, but they may be same if (incomplete) code ends in a dot, e.g. &quot;Foo.Bar.&quot;
 The dots mostly matter for parsing, and are typically ignored by the typechecker, but
 if dotRanges.Length = lid.Length, then the parser must have reported an error, so the typechecker is allowed
 more freedom about typechecking these expressions.
 LongIdent can be empty list - it is used to denote that name of some AST element is absent (i.e. empty type name in inherit)
&lt;/summary&gt;</em></div>
<div class="fsdocs-tip" id="fs72">type IdentTrivia =
  | OriginalNotation of text: string
  | OriginalNotationWithParen of leftParenRange: range * text: string * rightParenRange: range
  | HasParenthesis of leftParenRange: range * rightParenRange: range</div>
<div class="fsdocs-tip" id="fs73">union case IdentTrivia.OriginalNotation: text: string -&gt; IdentTrivia<br /><em>&lt;summary&gt;
 The ident originally had a different notation.
 Example: a + b
 The operator ident will be compiled into &quot;op_Addition&quot;, while the original notation was &quot;+&quot;
&lt;/summary&gt;</em></div>
<div class="fsdocs-tip" id="fs74">union case SynExpr.Ident: ident: Ident -&gt; SynExpr<br /><em>&lt;summary&gt;
 F# syntax: ident
 Optimized representation for SynExpr.LongIdent (false, [id], id.idRange)
&lt;/summary&gt;</em></div>
<div class="fsdocs-tip" id="fs75">union case SynExpr.Lambda: fromMethod: bool * inLambdaSeq: bool * args: SynSimplePats * body: SynExpr * parsedData: (SynPat list * SynExpr) option * range: range * trivia: SynExprLambdaTrivia -&gt; SynExpr<br /><em>&lt;summary&gt;
 First bool indicates if lambda originates from a method. Patterns here are always &quot;simple&quot;
 Second bool indicates if this is a &quot;later&quot; part of an iterated sequence of lambdas
 parsedData keeps original parsed patterns and expression,
 prior to transforming to &quot;simple&quot; patterns and iterated lambdas

 F# syntax: fun pat -&amp;gt; expr
&lt;/summary&gt;</em></div>
<div class="fsdocs-tip" id="fs76">type SynSimplePats =
  | SimplePats of pats: SynSimplePat list * range: range
  | Typed of pats: SynSimplePats * targetType: SynType * range: range
  member Range: range<br /><em>&lt;summary&gt;
 Represents a simple set of variable bindings a, (a, b) or (a: Type, b: Type) at a lambda,
 function definition or other binding point, after the elimination of pattern matching
 from the construct, e.g. after changing a &quot;function pat1 -&amp;gt; rule1 | ...&quot; to a
 &quot;fun v -&amp;gt; match v with ...&quot;
&lt;/summary&gt;</em></div>
<div class="fsdocs-tip" id="fs77">union case SynSimplePats.SimplePats: pats: SynSimplePat list * range: range -&gt; SynSimplePats</div>

      </div>
        <div id="push"></div>
    </main>
  <script type="module" src="https://fsprojects.github.io/fantomas/content/docs-setup.js"></script>
  <!-- BEGIN SEARCH BOX: this adds support for the search box -->
  <link rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/JavaScript-autoComplete/1.0.4/auto-complete.css" />
  <script type="text/javascript">var fsdocs_search_baseurl = 'https://fsprojects.github.io/fantomas/';</script>
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/lunr.js/2.3.8/lunr.min.js"></script>
  <script type="text/javascript"
    src="https://cdnjs.cloudflare.com/ajax/libs/JavaScript-autoComplete/1.0.4/auto-complete.min.js"></script>
  <script type="text/javascript" src="https://fsprojects.github.io/fantomas/content/fsdocs-search.js"></script>
  <!-- END SEARCH BOX: this adds support for the search box -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-A3rJD856KowSb7dwlZdYEkO39Gagi7vIsF0jrRAoQmDKKtQBHUuLZ9AsSv4jD4Xa" crossorigin="anonymous"></script>
  <script type="module" src="https://fsprojects.github.io/fantomas/content/webcomponents.js"></script>
  <script type="module">
      import mermaid from "https://cdn.skypack.dev/mermaid@9.2.2";
      mermaid.initialize({
          startOnLoad: true,
          theme: "base",
          themeVariables: {
              primaryColor: '#eff5f7'
          }
      });
  </script>
</body>
</html>